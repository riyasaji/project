<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Dress - Seller Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Your custom styles -->
    <style>
        /* Custom styles */
        body {
            background-color: #fff; /* White background */
            color: #333; /* Dark text */
            font-family: 'Arial', sans-serif; /* Font style */
        }
        header {
            background-color: #ff69b4; /* Pink header */
            color: #fff; /* White text */
        }
        header img {
            max-height: 50px;
        }
        header h4 {
            font-size: 1.2em;
        }
    </style>
</head>
<body>

<!-- Header -->
<header class="bg-light p-3">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-4">
                <img src="/static/img/favicon.png" alt="DreamDress Logo" class="img-fluid" style="max-height: 50px;">
				<span style="color: crimson;">DreamDress</span>
            </div>
            <div class="col-md-4">
                <h4 style="color:rgb(226, 32, 32)"><span id="username">{{ user.username }}</span></h4>
            </div>
            <div class="col-md-4 text-right">
                <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
            </div>
        </div>
    </div>
</header>

<!-- Main Content - Add Dress Form -->
<div class="container mt-4">
    <div class="card">
        <div class="card-header">
            <h5>Add Dress Product</h5>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="productName">Product Name</label>
                        <input type="text" class="form-control" id="productName" placeholder="Enter product name">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="productNumber">Product Number</label>
                        <input type="text" class="form-control" id="productNumber" placeholder="Enter product number">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="brandName">Brand Name</label>
                        <input type="text" class="form-control" id="brandName" placeholder="Enter brand name">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="category">Category</label>
                        <select id="category" class="form-control">
                            <option selected disabled>Select category</option>
                            <option>Dress</option>
                            <option>Shirt</option>
                            <option>Jeans</option>
                            <option>Swimwear</option>
                            <option>Sleepwear</option>
                            <option>Sportswear</option>
                            <option>Jumpsuits</option>
                            <option>Blazers</option>
                            <option>Jackets</option>
                            <option>Indian Wear</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="description">Description</label>
                        <textarea class="form-control" id="description" rows="3" placeholder="Enter product description"></textarea>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="material">Material</label>
                        <input type="text" class="form-control" id="material" placeholder="Enter material">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="price">Price</label>
                        <input type="text" class="form-control" id="price" placeholder="Enter price">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="stockQuantity">Stock Quantity</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-secondary" type="button" id="decreaseUnits">-</button>
                            </div>
                            <input type="text" class="form-control text-center" id="productUnits" value="1">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="button" id="increaseUnits">+</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="sizes">Sizes</label>
                        <select id="sizes" class="form-control">
                            <option selected disabled>Select size</option>
                            <option>Small</option>
                            <option>Medium</option>
                            <option>Large</option>
                            <option>XL</option>
                            <option>XXL</option>
                            <option>XXXL</option>
                            <option>5XL</option>
                        </select>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="colors">Colors</label>
                        <input type="text" class="form-control" id="colors" placeholder="Enter colors">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="productImage">Product Image</label>
                        <input type="file" class="form-control-file" id="productImage" name="main_image" required>
                    </div>
                    <label for="images">Images:</label>

                    <input type="hidden" name="num_images" id="num_images" value="0">
                    
                    <div id="image-container">
                        <!-- Dynamically add image input fields using JavaScript -->
                    </div>
                    <button type="button" onclick="addImageField()">Add Image</button>
                </div>
                <button type="submit" class="btn btn-primary">Add Product</button>
            </form>
        </div>
    </div>
</div>

<!-- Bootstrap JS and jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
        // Increase stock units
        $("#increaseUnits").click(function () {
            var currentValue = parseInt($("#productUnits").val());
            $("#productUnits").val(currentValue + 1);
        });

        // Decrease stock units
        $("#decreaseUnits").click(function () {
            var currentValue = parseInt($("#productUnits").val());
            if (currentValue > 1) {
                $("#productUnits").val(currentValue - 1);
            }
        });
    });
</script>
<script>
    function addImageField() {
        var container = document.getElementById('image-container');
        var numImages = container.getElementsByTagName('input').length + 1;

        var input = document.createElement('input');
        input.type = 'file';
        input.name = 'image_' + numImages;
        container.appendChild(input);

        document.getElementById('num_images').value = numImages;
    }

    // Add validation function for the main image
    function validateMainImage() {
        var mainImageInput = document.querySelector('input[name="main_image"]');
        var mainImageError = document.getElementById('main_image_error');

        if (!mainImageInput.files.length) {
            mainImageError.textContent = 'Main Image is required';
        } else {
            mainImageError.textContent = '';
        }
    }

    // Add event listener for input change
    document.querySelector('input[name="main_image"]').addEventListener('change', validateMainImage);
</script>
</body>
</html>
